
<%- include ('./dash_include/header.ejs') %>
<%- include ('./dash_include/dashboard_all.ejs') %>


<div class="main-container">
    <nav class="headering">
        <div class="head_in">
            <P>Admin Table</P>
         <ol>
            <li> 
                <a href="">
                    Home >
                </a>
            </li>
            <li> 
                <a href="">
                    Admin List
                </a>
            </li>
        </ol>
        </div>
        <a href="/admin/create-admin" class="created">Add Admin</a>
    </nav>
    <div class="table_admin">
        <div class="d-name-tag">
            <p>Properties Table Lists</p>
        </div>
        <table >
            <thead>
                <tr>
                    <th>S/N</th>
                    <th>Image</th>
                    <th>Full Name</th>
                    <th>Position</th>
                    <th>Role</th>
                    <th>Email</th>
                    <th>Status</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                <% let count = 1; %>
                <% admin.forEach(function(admin){ %>
                    <tr>
                        <td><%= count %></td>
                        <td><div class="imageadmin"><img src="data:Binary?<%= admin.img.contentType %>;base64,<%= admin.img.data.toString('base64') %>" alt="" width="50"</div></td>
                        <td><%= admin.first_name %> <%= admin.second_name %></td>
                        <td><%= admin.position %></td>
                        <td><%= admin.role%></td>
                        <td><%= admin.email %></td>
                        <td><label class="switch">
                            <input type="checkbox" id="mySwitch" data-user-id="<%= admin._id %> " <%= admin.status== true ? 'checked' : '' %> >
                            <span class="slider">
                            </span>
                    </label></td>
                        <td>
                            <div class="hidden">
                                <button class="delete"><a href="/admin/delete-admin/<%= admin._id %>"  class="delete_admin" data-id="<%= admin._id %>"> <i class="fas fa-trash"></i></a></button>
                                <button class="view"><a href="http://"><i class="fas fa-eye"></i></a></button>
                                <button class="edit"><a href="/admin/edit-admin?id=<%= admin._id %>"><i class="fas fa-user-edit"></i></a></button>
                            </div>
                        </td>
                    </tr>
                    <% count++ %>
                <% }) %>

            </tbody>
        </table>
        
        <ul class="paginationa">
            <% if (current > 1) { %>
              <li><a href="/admin/admin/<%= parseInt(current) - 1 %>">&laquo;</a></li>
            <% } %>
          
            <% for (var i = 1; i <= pages; i++) { %>
              <% if (current == i) { %>
                <li class="active"><a href="/admin/admin/<%= i %>"><%= i %></a></li>
              <% } else { %>
                <li><a href="/admin/admin/<%= i %>"><%= i %></a></li>
              <% } %>
            <% } %>
          
            <% if (current < pages) { %>
              <li><a href="/admin/admin/<%= parseInt(current) + 1 %>">&raquo;</a></li>
            <% } %>
        </ul>
       
    </div>
    <div class="footering">
        <h3>All rights reserved and Powered by: Valiantfoot Limited <i class="fas fa-copyright"></i> 2023</h3>
    </div>
</div>

<%- include ('./dash_include/footer.ejs') %>

<script>

    const hide = document.querySelector('.hidden');

    hide.forEach(function(hid) {
        hid.style.position = "absolute";
    });
    
</script>
  